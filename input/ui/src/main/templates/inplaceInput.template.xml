<?xml version="1.0" encoding="UTF-8"?>

<cdk:root xmlns="http://richfaces.org/cdk/xhtml-el" xmlns:cdk="http://richfaces.org/cdk/core"
	xmlns:c="http://richfaces.org/cdk/jstl/core" xmlns:cc="http://richfaces.org/cdk/jsf/composite"
	xmlns:javaee="http://java.sun.com/xml/ns/javaee">

	<cc:interface>
		<cdk:class>org.richfaces.renderkit.html.InplaceInputRenderer
		</cdk:class>
		<cdk:superclass>org.richfaces.renderkit.InplaceInputBaseRenderer
		</cdk:superclass>
		<cdk:component-family>org.richfaces.InplaceInput
		</cdk:component-family>
		<cdk:renderer-type>org.richfaces.InplaceInputRenderer
		</cdk:renderer-type>
	</cc:interface>

	<cc:implementation>
		<cdk:object type="org.richfaces.component.InplaceState" name="inplaceState" value="#{getInplaceState(component)}" />
		<cdk:object type="java.lang.String" name="inplaceValue" value="#{getValue(facesContext, component)}" />

		<span id="#{clientId}" class="#{getReadyStyleClass(component, inplaceState)}" cdk:passThroughWithExclusions="id class">
			<span id="#{clientId}:label" class="rf-ii-lbl">
				#{inplaceValue}
			</span>
			<span id="#{clientId}:edit" class="#{getEditStyleClass(component, inplaceState)}">
				<input id="#{clientId}:input" autocomplete="off" name="#{clientId}:input" type="text" value="#{inplaceValue}" class="rf-ii-f" cdk:passThrough="tabIndex"/>
				
				<c:if test="#{component.attributes['showControls']}">
					<span class="rf-ii-btn-prepos">
						<span class="rf-ii-btn-pos">
							<span id="#{clientId}:btnshadow" class="rf-ii-btn-shadow">
								<span class="rf-ii-btn-shadow-t"></span>
								<span class="rf-ii-btn-shadow-l"></span>
								<span class="rf-ii-btn-shadow-r"></span>
								<span class="rf-ii-btn-shadow-b"></span>
		
								<span id="#{clientId}:btn" style="position : relative">
									<input type="image"
										id="#{clientId}:okbtn"
										src="#{getResourcePath(facesContext, 'org.richfaces/ico_ok.gif')}"
										class="rf-ii-btn" onmousedown="this.className='rf-ii-btn-p'"
										onmouseout="this.className='rf-ii-btn'" onmouseup="this.className='rf-ii-btn'" />
									<input type="image"
										id="#{clientId}:cancelbtn"
										src="#{getResourcePath(facesContext,'org.richfaces/ico_cancel.gif')}"
										class="rf-ii-btn" onmousedown="this.className='rf-ii-btn-press'"
										onmouseout="this.className='rf-ii-btn'" onmouseup="this.className='rf-ii-btn'" />
									<br />
								</span>
							</span>
						</span>
					</span>
				</c:if>
			</span>
			<script type="text/javascript">	
				<cdk:call expression="buildScript(responseWriter, facesContext, component);"/>
			</script>
		</span>
	</cc:implementation>
</cdk:root>